@page "/appointment/{id:int}"
@inject HttpClient Http

@if (appointment == null)
{
    <p>Loading...</p>
}
else
{
    <MudCard>
        <MudCardContent>
            <MudText Typo="Typo.h6">Doctor: @appointment.Doctor?.FirstName @appointment.Doctor?.LastName</MudText>
            <MudText Typo="Typo.body1">Patient: @appointment.Patient?.FirstName @appointment.Patient?.LastName</MudText>
            <MudText Typo="Typo.body1">Time: @appointment.AppointmentTime</MudText>
        </MudCardContent>
    </MudCard>
}

@code {
    [Parameter] public int id { get; set; }
    private Appointment? appointment;

    protected override async Task OnInitializedAsync()
    {
        appointment = await Http.GetFromJsonAsync<Appointment>($"https://localhost:7228/appointments/{id}");
    }
}
